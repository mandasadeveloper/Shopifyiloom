<div class="il-customSwatches">
  {%- for variantColor in product.options_by_name.color.values %}
    {% paginate shop.metaobjects.variant_color.values by 1000 %}
      {% for color in shop.metaobjects.variant_color.values %}
        {% if variantColor == color.color_name %}
          <div class="il-customSwatch__wrapper">
            <img class="il-customSwatch__swatch" src="{{ color.color_image | img_url: 'master' }}">
          </div>
        {% endif %}
      {% endfor %}
    {% endpaginate %}
  {% endfor %}
</div>

<style>
  .il-customSwatches {
    display: flex;
    margin-top: 20px;
    gap: 10px;
  }

  .il-customSwatch__swatch {
    width: 100%;
    height: 100%;
    max-width: 22px;
    max-height: 22px;
  }
</style>
